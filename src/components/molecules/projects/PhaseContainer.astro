---
export interface Props {
  text: string;
  text2?: string;
  title: string;
  color?: string;
  reverse?: boolean;
  directionColumn?: boolean;
  titleWrapper?: string;
}

const { text, text2, title,titleWrapper, color = "#FFD86A", reverse = false, directionColumn = false} = Astro.props;

---

<div class={`phase-container  ${directionColumn && 'phase-container__column'} ${reverse && !directionColumn ? "phase-container--reverse" : ""}`}>
  <div class="phase-container__text-block">
    <h4 class="phase-container__text-block__title">{title}</h4>
    <p set:html={text}  class="phase-container__text-block__paragraph"></p>
    {text2 && <p set:html={text2}  class="phase-container__text-block__paragraph"></p>}
  </div>
  <div class="phase-container__wrapper" style={`--color:${color}`}>
    {titleWrapper ? <h5 class="phase-container__wrapper__title">{titleWrapper}</h5>  
    <div class="phase-container__wrapper__table">
      <slot />
    </div> 
    :
    <slot />
    }
  </div>
</div>

<style lang="scss" scoped>
  .phase-container {
    display: flex;
    align-items: center;
    gap: 3.5rem;
    padding-bottom: 3rem;
    margin-bottom: 8rem;

    &__column {
      flex-direction: column;
    }
  
    /* ðŸ‘‡ layout base */
    &__wrapper {
      max-width: 58.8rem;
      // flex: 0 0 58.75rem; /* ðŸ‘ˆ ancho fijo visible */
      // height: 30rem;
      border-radius: 1rem;
      background-color: var(--color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 2.5rem;

      &__title{
        font-family: $font-poppins;
        font-size: $font-size-lg;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      &__table {
        display: flex;
        justify-content: center;
        gap: 2rem;
        width: 100%;
        margin-top: 1rem;
        min-width: 50rem;
      }
    }
  
    &__text-block {
      // flex: 1;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      font-family: $font-poppins;
  
      &__title {
        font-size: $font-size-xl;
        font-weight: 600;
        color: $color-blue-electric;
      }
  
      &__paragraph {
        color: #555;
        font-size: $font-size-md;
        line-height: 1.6;
      }
    }
  
    /* ðŸ‘‡ reverse layout */
    &--reverse {
      flex-direction: row-reverse;
    }


    @media (max-width: 1200px) {
    
      &__wrapper {
        max-width: 50rem;
      }

      &__text-block {
      &__title {
        font-size: $font-size-lg;

      }
  
      &__paragraph {
        font-size: $font-size-base;
      }
    }

    }
  
    /* ðŸ‘‡ responsive: apila siempre vertical */
    @media (max-width: 768px) {
      flex-direction: column;
      text-align: center;
      margin-bottom: 4rem;

  
      &--reverse {
        flex-direction: column;
      }
  
      &__wrapper {
        display: none;
      }
    }
  }
  </style>